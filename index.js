var f=Object.defineProperty;var y=(d,e,t)=>e in d?f(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var n=(d,e,t)=>(y(d,typeof e!="symbol"?e+"":e,t),t);import{W as O,S as L,P as D,C as X,V as P,M,D as Y,G as C,A as I,a as k,B as R,b as u,c as x,d as z,F as v,e as b,f as w,g as m}from"./vendor.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))h(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&h(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function h(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};A();class E{constructor(e=1.333){n(this,"aspectRatio");n(this,"fov");n(this,"znear");n(this,"zfar");n(this,"renderer");n(this,"scene");n(this,"camera");n(this,"clock");this.aspectRatio=e,this.fov=60,this.znear=1,this.zfar=1e3,this.renderer=new O,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",()=>{this.resize()},!1),window.addEventListener("mousedown",t=>{this.onMouseDown(t)}),window.addEventListener("mouseup",t=>{this.onMouseUp(t)}),window.addEventListener("mousemove",t=>{this.onMouseMove(t)}),window.addEventListener("keydown",t=>{this.onKeyDown(t)}),window.addEventListener("keyup",t=>{this.onKeyUp(t)}),this.scene=new L,this.camera=new D(this.fov,this.aspectRatio,this.znear,this.zfar),this.clock=new X}start(){this.createScene(),this.mainLoop()}mainLoop(){this.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.mainLoop())}resize(){this.renderer.setSize(window.innerWidth,window.innerHeight);var e=new P;this.renderer.getViewport(e);var t=window.innerWidth/window.innerHeight;this.aspectRatio>t?this.renderer.setViewport(0,(window.innerHeight-window.innerWidth/this.aspectRatio)/2,window.innerWidth,window.innerWidth/this.aspectRatio):this.renderer.setViewport((window.innerWidth-window.innerHeight*this.aspectRatio)/2,0,window.innerHeight*this.aspectRatio,window.innerHeight)}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyDown(e){}onKeyUp(e){}}class S extends E{constructor(){super(1920/1080);n(this,"debugMode");n(this,"mouseDrag");n(this,"cameraOrbitX");n(this,"cameraOrbitY");n(this,"cameraDistance");n(this,"lightOrbitX");n(this,"lightOrbitY");n(this,"lightIntensity");n(this,"debugMaterial");n(this,"light");n(this,"cylinder");this.debugMode=!1,this.mouseDrag=!1,this.cameraOrbitX=0,this.cameraOrbitY=0,this.cameraDistance=0,this.lightOrbitX=0,this.lightOrbitY=0,this.lightIntensity=0,this.debugMaterial=new M,this.light=new Y,this.cylinder=new C}createScene(){this.cameraDistance=4,this.camera.position.set(0,0,this.cameraDistance),this.camera.lookAt(0,0,0),this.camera.up.set(0,1,0);var e=new I("white",.3);this.scene.add(e),this.light.color=new k("white"),this.lightIntensity=1,this.lightOrbitX=-22.5,this.lightOrbitY=45,this.updateLightParameters(),this.scene.add(this.light);var t=new M;t.side=R,t.color.set("black");var h=new u(new x(1e3,1e3,1e3),t);this.scene.add(h),this.debugMaterial.wireframe=!0;const r=10;this.cylinder.add(this.createCylinderMesh(r));var i=this.createDisc(r);i.position.set(0,1,0),this.cylinder.add(i);var c=this.createDisc(r);c.position.set(0,-1,0),c.scale.set(1,-1,1),this.cylinder.add(c),this.scene.add(this.cylinder);var s=new z,o=s.addFolder("Controls");o.open();var l=o.add(this,"lightOrbitX",-180,180);l.name("Light Orbit X"),l.onChange(p=>{this.updateLightParameters()});var a=o.add(this,"lightOrbitY",-90,90);a.name("Light Orbit Y"),a.onChange(p=>{this.updateLightParameters()});var a=o.add(this,"lightIntensity",0,2);a.name("Light Intensity"),a.onChange(p=>{this.updateLightParameters()});var g=o.add(this,"debugMode");g.name("Debug Mode"),g.onChange(p=>{this.toggleDebugMode(p)})}createCylinderMesh(e){var t=[],h=[],r=[],i=360/e*Math.PI/180,c=2*Math.PI/i;for(let a=0;a<c;a++){var s=a*i;t.push(new m(Math.cos(s),1,Math.sin(s))),t.push(new m(Math.cos(s),-1,Math.sin(s))),t.push(new m(Math.cos(s+i),1,Math.sin(s+i))),t.push(new m(Math.cos(s+i),-1,Math.sin(s+i))),h.push(Math.cos(s),0,Math.sin(s)),h.push(Math.cos(s),0,Math.sin(s)),h.push(Math.cos(s+i),0,Math.sin(s+i)),h.push(Math.cos(s+i),0,Math.sin(s+i)),r.push(a*4,a*4+2,a*4+1),r.push(a*4+1,a*4+2,a*4+3)}var o=new u;o.geometry.setFromPoints(t),o.geometry.setIndex(r),o.geometry.setAttribute("normal",new v(h,3));var l=new b;return l.color.set("gray"),o.material=l,o}createDisc(e){var o=new u,t=[],h=[],r=[];t.push(new m(0,0,0)),h.push(0,1,0);var i=360/e*Math.PI/180,c=2*Math.PI/i;for(let a=0;a<c;a++){var s=a*i;t.push(new m(Math.cos(s),0,Math.sin(s))),t.push(new m(Math.cos(s+i),0,Math.sin(s+i))),h.push(0,1,0),h.push(0,1,0),r.push(0,a*2+2,a*2+1)}var o=new u;o.geometry.setFromPoints(t),o.geometry.setIndex(r),o.geometry.setAttribute("normal",new v(h,3));var l=new b;return l.color.set("gray"),o.material=l,o}update(e){}onMouseDown(e){e.target.localName=="canvas"&&(this.mouseDrag=!0)}onMouseUp(e){this.mouseDrag=!1}onMouseMove(e){this.mouseDrag&&(this.cameraOrbitX+=e.movementY,this.cameraOrbitX<90||this.cameraOrbitX>270?this.cameraOrbitY+=e.movementX:this.cameraOrbitY-=e.movementX,this.cameraOrbitX>360?this.cameraOrbitX-=360:this.cameraOrbitX<0&&(this.cameraOrbitX+=360),this.cameraOrbitY>360?this.cameraOrbitY-=360:this.cameraOrbitY<0&&(this.cameraOrbitY+=360),this.updateCameraOrbit())}updateCameraOrbit(){var e=new w().makeRotationY(-this.cameraOrbitY*Math.PI/180);e.multiply(new w().makeRotationX(-this.cameraOrbitX*Math.PI/180)),this.camera.position.set(0,0,this.cameraDistance),this.camera.applyMatrix4(e),this.camera.lookAt(0,0,0),this.cameraOrbitX<90||this.cameraOrbitX>270?this.camera.up.set(0,1,0):this.camera.up.set(0,-1,0)}updateLightParameters(){var e=new w().makeRotationY(this.lightOrbitX*Math.PI/180);e.multiply(new w().makeRotationX(-this.lightOrbitY*Math.PI/180)),this.light.position.set(0,0,10),this.light.applyMatrix4(e),this.light.intensity=this.lightIntensity}toggleDebugMode(e){this.cylinder.children.forEach(t=>{t instanceof u&&(e?(t.userData={originalMaterial:t.material},t.material=this.debugMaterial):t.material=t.userData.originalMaterial)})}}var W=new S;W.start();
