var p=Object.defineProperty;var g=(h,e,t)=>e in h?p(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var s=(h,e,t)=>(g(h,typeof e!="symbol"?e+"":e,t),t);import{W as M,S as v,P as b,C as f,V as y,M as w,D as L,G as O,A as D,a as C,B as P,b as m,c as k,d as I,F as R,e as Y,f as l,g as u}from"./vendor.js";const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&d(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}};x();class X{constructor(e=1.333){s(this,"aspectRatio");s(this,"fov");s(this,"znear");s(this,"zfar");s(this,"renderer");s(this,"scene");s(this,"camera");s(this,"clock");this.aspectRatio=e,this.fov=60,this.znear=1,this.zfar=1e3,this.renderer=new M,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",()=>{this.resize()},!1),window.addEventListener("mousedown",t=>{this.onMouseDown(t)}),window.addEventListener("mouseup",t=>{this.onMouseUp(t)}),window.addEventListener("mousemove",t=>{this.onMouseMove(t)}),window.addEventListener("keydown",t=>{this.onKeyDown(t)}),window.addEventListener("keyup",t=>{this.onKeyUp(t)}),this.scene=new v,this.camera=new b(this.fov,this.aspectRatio,this.znear,this.zfar),this.clock=new f}start(){this.createScene(),this.mainLoop()}mainLoop(){this.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.mainLoop())}resize(){this.renderer.setSize(window.innerWidth,window.innerHeight);var e=new y;this.renderer.getViewport(e);var t=window.innerWidth/window.innerHeight;this.aspectRatio>t?this.renderer.setViewport(0,(window.innerHeight-window.innerWidth/this.aspectRatio)/2,window.innerWidth,window.innerWidth/this.aspectRatio):this.renderer.setViewport((window.innerWidth-window.innerHeight*this.aspectRatio)/2,0,window.innerHeight*this.aspectRatio,window.innerHeight)}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyDown(e){}onKeyUp(e){}}class z extends X{constructor(){super(1920/1080);s(this,"debugMode");s(this,"mouseDrag");s(this,"cameraOrbitX");s(this,"cameraOrbitY");s(this,"cameraDistance");s(this,"lightOrbitX");s(this,"lightOrbitY");s(this,"lightIntensity");s(this,"debugMaterial");s(this,"light");s(this,"cylinder");this.debugMode=!1,this.mouseDrag=!1,this.cameraOrbitX=0,this.cameraOrbitY=0,this.cameraDistance=0,this.lightOrbitX=0,this.lightOrbitY=0,this.lightIntensity=0,this.debugMaterial=new w,this.light=new L,this.cylinder=new O}createScene(){this.cameraDistance=4,this.updateCameraOrbit();var e=new D("white",.3);this.scene.add(e),this.light.color=new C("white"),this.lightIntensity=1,this.lightOrbitX=-22.5,this.lightOrbitY=45,this.updateLightParameters(),this.scene.add(this.light);var t=new w;t.side=P,t.color.set("black");var d=new m(new k(1e3,1e3,1e3),t);this.scene.add(d),this.debugMaterial.wireframe=!0,this.cylinder.add(this.createCylinderMesh()),this.scene.add(this.cylinder);var i=new I,a=i.addFolder("Controls");a.open();var r=a.add(this,"lightOrbitX",-180,180);r.name("Light Orbit X"),r.onChange(n=>{this.updateLightParameters()});var o=a.add(this,"lightOrbitY",-90,90);o.name("Light Orbit Y"),o.onChange(n=>{this.updateLightParameters()});var o=a.add(this,"lightIntensity",0,2);o.name("Light Intensity"),o.onChange(n=>{this.updateLightParameters()});var c=a.add(this,"debugMode");c.name("Debug Mode"),c.onChange(n=>{this.toggleDebugMode(n)})}createCylinderMesh(){var e=[],t=[],d=[],i=45*Math.PI/180,a=2*Math.PI/i;for(let n=0;n<a;n++){var r=n*i;e.push(new u(Math.cos(r),1,Math.sin(r))),e.push(new u(Math.cos(r),-1,Math.sin(r))),e.push(new u(Math.cos(r+i),1,Math.sin(r+i))),e.push(new u(Math.cos(r+i),-1,Math.sin(r+i))),t.push(Math.cos(r),0,Math.sin(r)),t.push(Math.cos(r),0,Math.sin(r)),t.push(Math.cos(r+i),0,Math.sin(r+i)),t.push(Math.cos(r+i),0,Math.sin(r+i)),d.push(n*4,n*4+2,n*4+1),d.push(n*4+1,n*4+2,n*4+3)}var o=new m;o.geometry.setFromPoints(e),o.geometry.setIndex(d),o.geometry.setAttribute("normal",new R(t,3));var c=new Y;return c.color.set("green"),o.material=c,o}update(e){}onMouseDown(e){e.target.localName=="canvas"&&(this.mouseDrag=!0)}onMouseUp(e){this.mouseDrag=!1}onMouseMove(e){this.mouseDrag&&(this.cameraOrbitX+=e.movementX,this.cameraOrbitY+=e.movementY,this.updateCameraOrbit())}updateCameraOrbit(){var e=new l().makeRotationY(-this.cameraOrbitX*Math.PI/180);e.multiply(new l().makeRotationX(-this.cameraOrbitY*Math.PI/180)),this.camera.position.set(0,0,this.cameraDistance),this.camera.applyMatrix4(e),this.camera.lookAt(0,0,0),this.camera.up.set(0,1,0)}updateLightParameters(){var e=new l().makeRotationY(this.lightOrbitX*Math.PI/180);e.multiply(new l().makeRotationX(-this.lightOrbitY*Math.PI/180)),this.light.position.set(0,0,10),this.light.applyMatrix4(e),this.light.intensity=this.lightIntensity}toggleDebugMode(e){this.cylinder.children.forEach(t=>{t instanceof m&&(e?(t.userData={originalMaterial:t.material},t.material=this.debugMaterial):t.material=t.userData.originalMaterial)})}}var A=new z;A.start();
